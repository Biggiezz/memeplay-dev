<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Moon Rocket - MemePlay</title>
    <link rel="stylesheet" href="style.css">
    <script>
        (function() {
            try {
                var searchParams = new URLSearchParams(window.location.search || '');
                var hasGameId = false;
                var detectedGameId = null;
                
                if (searchParams.get('game')) {
                    hasGameId = true;
                    detectedGameId = searchParams.get('game');
                }
                
                var addPublicViewClass = function() {
                    if (!document.body) return;
                    if (!document.body.classList.contains('public-game-view')) {
                        document.body.classList.add('public-game-view');
                    }
                };
                
                if (hasGameId) {
                    if (document.body) {
                        addPublicViewClass();
                    } else {
                        document.addEventListener('DOMContentLoaded', addPublicViewClass, { once: true });
                        setTimeout(addPublicViewClass, 0);
                    }
                    console.log('[Moon Rocket] ✅ Added public-game-view class (early detection)');
                }
            } catch (err) {
                console.warn('[Moon Rocket] Failed to set public-game-view class early:', err);
            }
        })();
    </script>
</head>
<body>
    <div id="game-container">
        <canvas id="game-canvas" width="720" height="1000"></canvas>

        <!-- HUD -->
        <div id="hud">
            <div id="score">0</div>
            <div id="timer">10</div>
            <div id="lives">❤️❤️❤️</div>
        </div>

        <!-- Start Screen -->
        <div id="start-screen" class="overlay start-screen active">
            <h1>Tap to Launch Rocket</h1>
        </div>

        <!-- Game Over Screen -->
        <div id="gameover-screen" class="overlay game-over-screen">
            <div class="game-over-box">
                <h2>Game Over!</h2>
                <img id="gameover-logo" src="assets/bnb-logo.webp" alt="BNB Logo" style="width: 200px; height: 200px; object-fit: contain; margin: 20px auto; display: block;">
                <p>Score: <span id="final-score">0</span></p>
                <p id="story-text" style="font-size: 20px; color: #333; margin: 10px 0;">MEMEPLAY</p>
                <button id="restart-btn" class="restart-btn">Play Again</button>
            </div>
        </div>
    </div>
    <script type="module" src="config.js"></script>
    <script type="module" src="game.js"></script>
</body>
</html>

